<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tower of Psych: topsDataLog Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="pages.html"><span>Other</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>topsDataLog Class Reference<br/>
<small>
[<a class="el" href="group__foundation.html">Foundation</a>]</small>
</h1><!-- doxytag: class="topsDataLog" --><!-- doxytag: inherits="topsGroupedList" --><hr/><a name="_details"></a><h2>Overview</h2>
<p>One central place to log data on the fly. </p>
<p><a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> makes it easy to log data as you go. It's a "singleton" class, which means that only one can exist at a time, and you never have to create one yourself. You just call <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> methods from any code that needs to use the log.</p>
<p><a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> is a subclass of <a class="el" href="classtops_grouped_list.html" title="A structured container for values and objects.">topsGroupedList</a>, which means it has all the organization and capabilities of <a class="el" href="classtops_grouped_list.html" title="A structured container for values and objects.">topsGroupedList</a>, plus more.</p>
<p>Thus, you must log each piece of data in a "group" of related data. The group might correspond to a recuurring event, such as 'trial start'. You don't have to supply a "mnemonic" for each piece of data because <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> uses timestamps to identify pieces of data in each group.</p>
<p>In your experiment code, you can add to the log as many times as you like. If you're not sure whether some piece of data will turn out to be important, you can go ahead and log it anyway. You don't have to worry about the log filling up, how to allcate space for more data, or even how the data are ultimately stored. That's the log's job.</p>
<p>Other topsFoundataion classes will also add data to the log, to help you keep track of details that aren't specific to your experiment. For example, <a class="el" href="classtops_runnable.html" title="Superclass for flow-control classes.">topsRunnable</a> objects make log entries as they start and finish running.</p>
<p>With your log entries and the entries made automatically by topsFoundataion classes, it should be straightforward to look at the log after an experiment and get a sense of what happened and when. The log's <a class="el" href="classtops_data_log.html#a8e0c7d9085a2a92b7e2bf1ad06c96fb4" title="Launch the graphical interface for topsDataLog.">gui()</a> method should make this even easier. You can use it to launch <a class="el" href="classtops_data_log_g_u_i.html" title="Visualize data sorted by time.">topsDataLogGUI</a>, which plots a raster of all logged data over time, with data groups as rows. </p>
<div class="dynheader">
Inheritance diagram for topsDataLog:</div>
<div class="dynsection">
<div class="center"><img src="classtops_data_log__inherit__graph.png" border="0" usemap="#tops_data_log_inherit__map" alt="Inheritance graph"/></div>
<map name="tops_data_log_inherit__map" id="tops_data_log_inherit__map">
<area shape="rect" id="node2" href="classtops_grouped_list.html" title="A structured container for values and objects." alt="" coords="5,160,139,189"/><area shape="rect" id="node4" href="classtops_foundation.html" title="Superclass for all of the funtamental Tower of Psych classes." alt="" coords="9,83,135,112"/><area shape="rect" id="node6" href="classhandle.html" title="handle" alt="" coords="39,5,105,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classtops_data_log-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Properties and Events</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18414c54c7ec4b757437956d8e2bfd3f"></a><!-- doxytag: member="topsDataLog::clockFunction" ref="a18414c54c7ec4b757437956d8e2bfd3f" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a18414c54c7ec4b757437956d8e2bfd3f">clockFunction</a> = @topsClock</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">any function that returns the current time as a number <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27a00ac1eff27746f169c68039a6d7ef"></a><!-- doxytag: member="topsDataLog::printLogging" ref="a27a00ac1eff27746f169c68039a6d7ef" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a27a00ac1eff27746f169c68039a6d7ef">printLogging</a> = false</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true or false, whether to print info as data are logged <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11ae7a55494110f02f037320d01bc800"></a><!-- doxytag: member="topsDataLog::fileWithPath" ref="a11ae7a55494110f02f037320d01bc800" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a11ae7a55494110f02f037320d01bc800">fileWithPath</a> = ''</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">string name of a file to read from and write to, which may include the file path <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a787b7d9b5b36f9d4dc0906d6590bcf60"></a><!-- doxytag: member="topsDataLog::FlushedTheDataLog" ref="a787b7d9b5b36f9d4dc0906d6590bcf60" args="" -->
Event&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a787b7d9b5b36f9d4dc0906d6590bcf60">FlushedTheDataLog</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">notifies any listeners when all data are cleared from the log <br/></td></tr>
<tr><td colspan="2"><h2>Private Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c29bb8ac334de96049df4b364184f25"></a><!-- doxytag: member="topsDataLog::earliestTime" ref="a2c29bb8ac334de96049df4b364184f25" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a2c29bb8ac334de96049df4b364184f25">earliestTime</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the time of the first logged data, as reported by clockFunction <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a908a63ecdeeaf5e97f541aa9010b79e2"></a><!-- doxytag: member="topsDataLog::latestTime" ref="a908a63ecdeeaf5e97f541aa9010b79e2" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a908a63ecdeeaf5e97f541aa9010b79e2">latestTime</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the time of the last logged data, as reported by clockFunction <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a222d7e3606701ba93ae8b6e84db36cb3">lastFlushTime</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the most recent time when the log was flushed  <a href="#a222d7e3606701ba93ae8b6e84db36cb3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada56d08c8af97adf30668b18f91047e8"></a><!-- doxytag: member="topsDataLog::fHeader" ref="ada56d08c8af97adf30668b18f91047e8" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#ada56d08c8af97adf30668b18f91047e8">fHeader</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classtops_data_file.html" title="Utility to organize incremental reading and writing of data.">topsDataFile</a> metadata struct for writing to disk incrementally <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc552fb9a3447165e0882832cf11dcdb"></a><!-- doxytag: member="topsDataLog::lastWriteTime" ref="acc552fb9a3447165e0882832cf11dcdb" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#acc552fb9a3447165e0882832cf11dcdb">lastWriteTime</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the latest time when data were written to disk <br/></td></tr>
<tr><td colspan="2"><h2>Methods</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5a4900e4be702946331957958443598"></a><!-- doxytag: member="topsDataLog::set_fileWithPath" ref="ac5a4900e4be702946331957958443598" args="(self, fileWithPath)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#ac5a4900e4be702946331957958443598">set_fileWithPath</a> (self, <a class="el" href="classtops_data_log.html#a11ae7a55494110f02f037320d01bc800">fileWithPath</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update the <a class="el" href="classtops_data_file.html" title="Utility to organize incremental reading and writing of data.">topsDataFile</a> metadata to reflect a new fileWithPath. <br/></td></tr>
<tr><td colspan="2"><h2>Static Methods</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static log&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#ab75bbca125060dca1979b53b0569f41c">theDataLog</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access the current data log "singleton".  <a href="#ab75bbca125060dca1979b53b0569f41c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e0c7d9085a2a92b7e2bf1ad06c96fb4"></a><!-- doxytag: member="topsDataLog::gui" ref="a8e0c7d9085a2a92b7e2bf1ad06c96fb4" args="(self)" -->
static g&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a8e0c7d9085a2a92b7e2bf1ad06c96fb4">gui</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Launch the graphical interface for <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a135f55e890219a6437ef74f2867f1c10">flushAllData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear out all data from the log.  <a href="#a135f55e890219a6437ef74f2867f1c10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a148e17810877b9609fde06ce045df331">logDataInGroup</a> (data, group, timestamp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add some data to the log.  <a href="#a148e17810877b9609fde06ce045df331"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static logStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a0575af6cb9923638ea5385550f501257">getSortedDataStruct</a> (timeRange)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all data from the log.  <a href="#a0575af6cb9923638ea5385550f501257"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#afc3c2c32bcb2b5a10ab1afaaa6ebfd47">writeDataFile</a> (<a class="el" href="classtops_data_log.html#a11ae7a55494110f02f037320d01bc800">fileWithPath</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write logged data to a file.  <a href="#afc3c2c32bcb2b5a10ab1afaaa6ebfd47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static dataStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#ad881016b1ea2efb19c741c0a7f5a54ce">readDataFile</a> (<a class="el" href="classtops_data_log.html#a11ae7a55494110f02f037320d01bc800">fileWithPath</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read previously logged data from a file.  <a href="#ad881016b1ea2efb19c741c0a7f5a54ce"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Methods</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">self&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#a5739cd692204c82b0cd61c5973ee3fb3">topsDataLog</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor is private.  <a href="#a5739cd692204c82b0cd61c5973ee3fb3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1a3369af694583146c1bbb180df58e7"></a><!-- doxytag: member="topsDataLog::writeIncrementToFile" ref="ab1a3369af694583146c1bbb180df58e7" args="(self)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#ab1a3369af694583146c1bbb180df58e7">writeIncrementToFile</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a data increment and other data to file and do accounting. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac75b997aa6ef250dd23bde961314fc1b"></a><!-- doxytag: member="topsDataLog::readIncrementFromFile" ref="ac75b997aa6ef250dd23bde961314fc1b" args="(self)" -->
dataStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#ac75b997aa6ef250dd23bde961314fc1b">readIncrementFromFile</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a data increment and other data from file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab047df13e7e170c4152d89ea50593d1"></a><!-- doxytag: member="topsDataLog::readOldLogStructFromFile" ref="aab047df13e7e170c4152d89ea50593d1" args="(self)" -->
dataStruct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#aab047df13e7e170c4152d89ea50593d1">readOldLogStructFromFile</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an old-style data from file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af587432a4e3faed866ad7d52326f9208"></a><!-- doxytag: member="topsDataLog::populateWithDataStruct" ref="af587432a4e3faed866ad7d52326f9208" args="(self, dataStruct)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_data_log.html#af587432a4e3faed866ad7d52326f9208">populateWithDataStruct</a> (self, dataStruct)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Populate the log groupedList with struct data. <br/></td></tr>
</table>
<hr/><h2>Constructor</h2>
<a class="anchor" id="a5739cd692204c82b0cd61c5973ee3fb3"></a><!-- doxytag: member="topsDataLog::topsDataLog" ref="a5739cd692204c82b0cd61c5973ee3fb3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">self <a class="el" href="classtops_data_log.html">topsDataLog</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor is private. </p>
<p>Use <a class="el" href="classtops_data_log.html#ab75bbca125060dca1979b53b0569f41c" title="Access the current data log &quot;singleton&quot;.">topsDataLog.theDataLog</a> to access the current instance of <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a>. </p>

</div>
</div>
<hr/><h2>Methods</h2>
<a class="anchor" id="ab75bbca125060dca1979b53b0569f41c"></a><!-- doxytag: member="topsDataLog::theDataLog" ref="ab75bbca125060dca1979b53b0569f41c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static log theDataLog </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Access the current data log "singleton". </p>
<p>Returns the current instance of <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a>. Use this method instad of a class constructor. This method will create a new data log the first time it's called, and return the same data log subsequently.</p>
<p>For most log operations, you don't need this method. You can just use the static methods below and they will access the current data log for you.</p>
<p>For a few operations it makes sense to get at the log itself, using this method. For example, you might wish to change the log's clockFunction, to use some custom timer. In that case you would get the log using this method, and set the value of log.clockFunction just like you would set the value of any object property. </p>

</div>
</div>
<a class="anchor" id="a135f55e890219a6437ef74f2867f1c10"></a><!-- doxytag: member="topsDataLog::flushAllData" ref="a135f55e890219a6437ef74f2867f1c10" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static flushAllData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear out all data from the log. </p>
<p>You can't create new instances of <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a>, but you can always clear out the existing instance. You probably should do this before starting an experiment.</p>
<p>Removes all data from all groups, then removes the groups themselves. Then sets earliestTime and latestTime to nan. Then sends a FlushedTheDataLog notification to any listeners. </p>

</div>
</div>
<a class="anchor" id="a148e17810877b9609fde06ce045df331"></a><!-- doxytag: member="topsDataLog::logDataInGroup" ref="a148e17810877b9609fde06ce045df331" args="(data, group, timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static logDataInGroup </td>
          <td>(</td>
          <td class="paramtype">data&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">group&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timestamp&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add some data to the log. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>a value or object to store in the log (but not an object of the <a class="el" href="classhandle.html">handle</a> type). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>group</em>&nbsp;</td><td>a string for grouping related data, such as the name of a recurring event. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timestamp</em>&nbsp;</td><td>optional time marker to use for <em>data</em>, instead of the current time.</td></tr>
  </table>
  </dd>
</dl>
<p>If <em>data</em> is a <a class="el" href="classhandle.html">handle</a> object, converts it to a struct. This is because Matlab does a bad job of dealing with large numbers of handles to the same object, and a worse job of writing and reading them to disk. Better to keep the data log out of that mess.</p>
<p>Adds <em>data</em> to <em>group</em>, under the given <em>timestamp</em>, in the current instance of <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a>. If <em>timestamp</em> is omitted, uses the current time reported by clockFunction.</p>
<p>Updates earliestTime and latestTime to account for the the time of this log entry.</p>
<p>Since <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> is a subclass of <a class="el" href="classtops_grouped_list.html" title="A structured container for values and objects.">topsGroupedList</a>, logging data is a lot like adding items to a list. <em>group</em> is treated just like the groups in <a class="el" href="classtops_grouped_list.html" title="A structured container for values and objects.">topsGroupedList</a>. The data log uses a <em>timestamp</em> as the mnemonic for each data item. </p>

</div>
</div>
<a class="anchor" id="a0575af6cb9923638ea5385550f501257"></a><!-- doxytag: member="topsDataLog::getSortedDataStruct" ref="a0575af6cb9923638ea5385550f501257" args="(timeRange)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static logStruct getSortedDataStruct </td>
          <td>(</td>
          <td class="paramtype">timeRange&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get all data from the log. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timeRange</em>&nbsp;</td><td>optional time limits for data, of the form [laterThan asLateAs]</td></tr>
  </table>
  </dd>
</dl>
<p>Gets all data items from the current instance of <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a>, as a struct array, using <a class="el" href="classtops_grouped_list.html#ae5c5d09a765485a412412c068d1e0f13" title="Get all items from a group, as a struct array.">getAllItemsFromGroupAsStruct()</a>. Sorts the struct array by the time values stored in its mnemonics field. </p>

</div>
</div>
<a class="anchor" id="afc3c2c32bcb2b5a10ab1afaaa6ebfd47"></a><!-- doxytag: member="topsDataLog::writeDataFile" ref="afc3c2c32bcb2b5a10ab1afaaa6ebfd47" args="(fileWithPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static writeDataFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtops_data_log.html#a11ae7a55494110f02f037320d01bc800">fileWithPath</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write logged data to a file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileWithPath</em>&nbsp;</td><td>optional .mat filename, which may include a path, in which to save logged data.</td></tr>
  </table>
  </dd>
</dl>
<p>Converts recently logged data to a standard Matlab struct using <a class="el" href="classtops_data_log.html#a0575af6cb9923638ea5385550f501257" title="Get all data from the log.">topsDataLog.getSortedDataStruct()</a> and writes the struct to disk, via the <a class="el" href="classtops_data_file.html" title="Utility to organize incremental reading and writing of data.">topsDataFile</a> class.</p>
<p><a class="el" href="classtops_data_log.html#afc3c2c32bcb2b5a10ab1afaaa6ebfd47" title="Write logged data to a file.">writeDataFile()</a> behaves differently depending on <em>fileWithPath</em> and the fileWithPath property of the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance:</p>
<ul>
<li>If <em>fileWithPath</em> is provided, assigns <em>fileWithPath</em> to the fileWithPath property of the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance and writes data to the given <em>fileWithPath</em>.</li>
<li>If <em>fileWithPath</em> is omitted, but the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance has a non-empty fileWithPath property, writes data according to the fileWithPath property.</li>
<li>If <em>fileWithPath</em> is omitted, and the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance has an empty fileWithPath property, opens a dialog for chosing a a file. If a file is chosen, writes data to the chosen file and saves the chosen file to the fileWithPath property.</li>
</ul>

</div>
</div>
<a class="anchor" id="ad881016b1ea2efb19c741c0a7f5a54ce"></a><!-- doxytag: member="topsDataLog::readDataFile" ref="ad881016b1ea2efb19c741c0a7f5a54ce" args="(fileWithPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static dataStruct readDataFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtops_data_log.html#a11ae7a55494110f02f037320d01bc800">fileWithPath</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read previously logged data from a file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileWithPath</em>&nbsp;</td><td>optional .mat filename, which may include a path, from which to read logged data.</td></tr>
  </table>
  </dd>
</dl>
<p>Reads any previously unread data from disk, via the <a class="el" href="classtops_data_file.html" title="Utility to organize incremental reading and writing of data.">topsDataFile</a> class. Populates the current instance of <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> with any new data. May also return the new data, in a struct of the same form as <a class="el" href="classtops_data_log.html#a0575af6cb9923638ea5385550f501257" title="Get all data from the log.">topsDataLog.getSortedDataStruct()</a>.</p>
<p><a class="el" href="classtops_data_log.html#ad881016b1ea2efb19c741c0a7f5a54ce" title="Read previously logged data from a file.">readDataFile()</a> behaves differently depending on <em>fileWithPath</em> and the fileWithPath property of the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance:</p>
<ul>
<li>If <em>fileWithPath</em> is provided, assigns <em>fileWithPath</em> to the fileWithPath property of the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance and reads data from the given <em>fileWithPath</em>.</li>
<li>If <em>fileWithPath</em> is omitted, but the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance has a non-empty fileWithPath property, reads data according to the fileWithPath property.</li>
<li>If <em>fileWithPath</em> is omitted, and the current <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> instance has an empty fileWithPath property, opens a dialog for chosing a a file. If a file is chosen, reads data from the chosen file and saves the chosen file to the fileWithPath property.</li>
</ul>

</div>
</div>
<hr/><h2>Properties and Events</h2>
<a class="anchor" id="a222d7e3606701ba93ae8b6e84db36cb3"></a><!-- doxytag: member="topsDataLog::lastFlushTime" ref="a222d7e3606701ba93ae8b6e84db36cb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Property <a class="el" href="classtops_data_log.html#a222d7e3606701ba93ae8b6e84db36cb3">lastFlushTime</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the most recent time when the log was flushed </p>
<p><a class="el" href="classtops_data_log.html#a135f55e890219a6437ef74f2867f1c10" title="Clear out all data from the log.">flushAllData()</a> sets lastFlushTime to the current time, as reported by clockFunction. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>topsDataLog.m</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Oct 26 22:30:17 2010 for Tower of Psych by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
