<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tower of Psych: topsStateMachine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>topsStateMachine Class Reference</h1><!-- doxytag: class="topsStateMachine" --><!-- doxytag: inherits="topsConcurrent" --><hr/><a name="_details"></a><h2>Overview</h2>
<p>A state machine for controlling flow through predefined states. </p>
<p><a class="el" href="classtops_state_machine.html" title="A state machine for controlling flow through predefined states.">topsStateMachine</a> may contain arbitrary states to be traversed when it <a class="el" href="classtops_concurrent.html#ad20a9881e7c71cb5296f0e694f70c773" title="Do flow control.">run()</a>s. Each state may invoke functions and transition to other states with specified timing. State traversal may be deterministic, or may be conditional and branching based on classifications or input functions. </p>
<div class="dynheader">
Inheritance diagram for topsStateMachine:</div>
<div class="dynsection">
<div class="center"><img src="classtops_state_machine__inherit__graph.png" border="0" usemap="#tops_state_machine_inherit__map" alt="Inheritance graph"/></div>
<map name="tops_state_machine_inherit__map" id="tops_state_machine_inherit__map">
<area shape="rect" id="node2" href="classtops_concurrent.html" title="Superclass for flow&#45;control classes that may operate concurrently." alt="" coords="11,161,113,189"/><area shape="rect" id="node4" href="classtops_runnable.html" title="Superclass for flow&#45;control classes." alt="" coords="15,83,109,111"/><area shape="rect" id="node6" href="classtops_foundation.html" title="Superclass for all of the funtamental Tower of Psych classes." alt="" coords="11,6,115,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classtops_state_machine-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Properties and Events</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a7861e769bf7518302516cfabc3f611a6">allStates</a> = struct([])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">struct array of data for each state  <a href="#a7861e769bf7518302516cfabc3f611a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a24701c49c20d912138a10311f57be1e2">transitionFevalable</a> = {}</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">optional fevalable cell array to invoke during state transitions  <a href="#a24701c49c20d912138a10311f57be1e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18414c54c7ec4b757437956d8e2bfd3f"></a><!-- doxytag: member="topsStateMachine::clockFunction" ref="a18414c54c7ec4b757437956d8e2bfd3f" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a18414c54c7ec4b757437956d8e2bfd3f">clockFunction</a> = @topsClock</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">any function that returns the current time as a number <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d95726cc7fdeaa323f3df752cf1915b"></a><!-- doxytag: member="topsStateMachine::startTime" ref="a8d95726cc7fdeaa323f3df752cf1915b" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a8d95726cc7fdeaa323f3df752cf1915b">startTime</a> = []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the time when state traversal began <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83b3ea5f06651541289007f105d4dcf8"></a><!-- doxytag: member="topsStateMachine::finishTime" ref="a83b3ea5f06651541289007f105d4dcf8" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a83b3ea5f06651541289007f105d4dcf8">finishTime</a> = []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the time when state traversal ended <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a73e4a77c91b5a68656c28b05d0f94dd2">finishState</a> = struct([])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">struct of information about the last state encountered during traversal.  <a href="#a73e4a77c91b5a68656c28b05d0f94dd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0a693ae8ea4e0f0387c5531da6e8e07"></a><!-- doxytag: member="topsStateMachine::currentEntryTime" ref="aa0a693ae8ea4e0f0387c5531da6e8e07" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#aa0a693ae8ea4e0f0387c5531da6e8e07">currentEntryTime</a> = []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">time when the current state was entered <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a422459a36cb80809cf74b93de92286d9"></a><!-- doxytag: member="topsStateMachine::currentTimeoutTime" ref="a422459a36cb80809cf74b93de92286d9" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a422459a36cb80809cf74b93de92286d9">currentTimeoutTime</a> = []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">time when the current state will reach its timeout <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af368847f7002cf657df3358f019dff16"></a><!-- doxytag: member="topsStateMachine::sharedEntry" ref="af368847f7002cf657df3358f019dff16" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#af368847f7002cf657df3358f019dff16">sharedEntry</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">struct array of shared fevalables and names <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9afae22f20f34a634ed9ced8b18f7f47"></a><!-- doxytag: member="topsStateMachine::sharedExit" ref="a9afae22f20f34a634ed9ced8b18f7f47" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a9afae22f20f34a634ed9ced8b18f7f47">sharedExit</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">struct array of shared fevalables and names <br/></td></tr>
<tr><td colspan="2"><h2>Protected Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a091ba6272137818a9f60c86d5deb2ace"></a><!-- doxytag: member="topsStateMachine::currentIndex" ref="a091ba6272137818a9f60c86d5deb2ace" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a091ba6272137818a9f60c86d5deb2ace">currentIndex</a> = []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">allStates array index for the current state <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0873f1a8591d6a832b4cebdb06435ee"></a><!-- doxytag: member="topsStateMachine::currentInput" ref="af0873f1a8591d6a832b4cebdb06435ee" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#af0873f1a8591d6a832b4cebdb06435ee">currentInput</a> = {}</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">copy of the current state's input fevalable <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a759cef2d989439c304dc0558cc110ee6"></a><!-- doxytag: member="topsStateMachine::currentClassification" ref="a759cef2d989439c304dc0558cc110ee6" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a759cef2d989439c304dc0558cc110ee6">currentClassification</a> = []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">copy of the current state's classification <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfa93e512ddbfdc83d7080d1c7ce2cfe"></a><!-- doxytag: member="topsStateMachine::stateNameToIndex" ref="adfa93e512ddbfdc83d7080d1c7ce2cfe" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#adfa93e512ddbfdc83d7080d1c7ce2cfe">stateNameToIndex</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">containers.Map of state name -&gt; allStates array index. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace5b8a77a9bf654f63d5aad91be20572"></a><!-- doxytag: member="topsStateMachine::transitionString" ref="ace5b8a77a9bf654f63d5aad91be20572" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#ace5b8a77a9bf654f63d5aad91be20572">transitionString</a> = 'transition'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">string used for <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> entry for transitionFevalable <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8355764db0f977f2fccbadb69b268db"></a><!-- doxytag: member="topsStateMachine::entryString" ref="ae8355764db0f977f2fccbadb69b268db" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#ae8355764db0f977f2fccbadb69b268db">entryString</a> = 'enter'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">string used for <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> entry during state entry <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff6ac6427b9ca1c6a734a2b2bb22003f"></a><!-- doxytag: member="topsStateMachine::exitString" ref="aff6ac6427b9ca1c6a734a2b2bb22003f" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#aff6ac6427b9ca1c6a734a2b2bb22003f">exitString</a> = 'exit'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">string used for <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> entry during state exit <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2182892bae7c65ccf7c215b5b5664c61"></a><!-- doxytag: member="topsStateMachine::stateFields" ref="a2182892bae7c65ccf7c215b5b5664c61" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a2182892bae7c65ccf7c215b5b5664c61">stateFields</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">field names of allStates struct array, defining state behaviors <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae202b93b5e7da3a76264604ca53637e3"></a><!-- doxytag: member="topsStateMachine::stateDefaults" ref="ae202b93b5e7da3a76264604ca53637e3" args="" -->
Property&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#ae202b93b5e7da3a76264604ca53637e3">stateDefaults</a> = {'', '', 0, {}, {}, {}, []}</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default values of allStates struct array fields <br/></td></tr>
<tr><td colspan="2"><h2>Methods</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">self&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a114554a184adf7e5f3b48c93ca60a4dc">topsStateMachine</a> (varargin)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constuct with name optional.  <a href="#a114554a184adf7e5f3b48c93ca60a4dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fig&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#abf424157a1ca067a83cc8260bc34c17d">gui</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a GUI to view object details.  <a href="#abf424157a1ca067a83cc8260bc34c17d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">indexes&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a5ae2f5eec8740c5c2c4ddc2d3eb78d18">addMultipleStates</a> (self, statesInfo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add multiple states to the state machine.  <a href="#a5ae2f5eec8740c5c2c4ddc2d3eb78d18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">index&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a0f5d6dba6767f2d089191e1925e04561">addState</a> (self, stateInfo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a new state to the state machine.  <a href="#a0f5d6dba6767f2d089191e1925e04561"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">index&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a9e441d0cfe10bf3c787028c1cf3c5ad7">editStateByName</a> (self, stateName, varargin)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Edit fields of an existing state.  <a href="#a9e441d0cfe10bf3c787028c1cf3c5ad7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a699ede3741dfdf33ddee4f8b32973218">addSharedFevalableWithName</a> (self, fevalable, <a class="el" href="classtops_foundation.html#a73d044705182dce0379a1c211dca6ec6">name</a>, when)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a function to be invoked during every state.  <a href="#a699ede3741dfdf33ddee4f8b32973218"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a966e4981280cce4a76731b409a8669a0"></a><!-- doxytag: member="topsStateMachine::isStateName" ref="a966e4981280cce4a76731b409a8669a0" args="(self, stateName)" -->
isState index&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a966e4981280cce4a76731b409a8669a0">isStateName</a> (self, stateName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether a string is the name of a state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad847d449c86a32cef23d3e8eaf8604ad"></a><!-- doxytag: member="topsStateMachine::getStateInfoByName" ref="ad847d449c86a32cef23d3e8eaf8604ad" args="(self, stateName)" -->
stateInfo index&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#ad847d449c86a32cef23d3e8eaf8604ad">getStateInfoByName</a> (self, stateName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a struct of info about a state with a given name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#aeb3b30c60946a22761128cbd397add94">start</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare for state traversal.  <a href="#aeb3b30c60946a22761128cbd397add94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a398a82043f7493f0ec73b0a57fa4c5b7">finish</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finish doing state traversal.  <a href="#a398a82043f7493f0ec73b0a57fa4c5b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#ad39f1b8814f26d4d247d7da89dcd1173">runBriefly</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Do a little flow control within the state list.  <a href="#ad39f1b8814f26d4d247d7da89dcd1173"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Methods</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ec46371e9a360334621a2f4f3ef7408"></a><!-- doxytag: member="topsStateMachine::enterStateAtIndex" ref="a7ec46371e9a360334621a2f4f3ef7408" args="(self, index)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a7ec46371e9a360334621a2f4f3ef7408">enterStateAtIndex</a> (self, index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reset all the current* properties for the given state <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a154a25b46798f8342508bf5bd456072b"></a><!-- doxytag: member="topsStateMachine::exitCurrentState" ref="a154a25b46798f8342508bf5bd456072b" args="(self)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a154a25b46798f8342508bf5bd456072b">exitCurrentState</a> (self)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clear current* properties but leave currentIndex so it's checkable <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec3bd1393887c8291a08feec58b38bdb"></a><!-- doxytag: member="topsStateMachine::transitionToStateWithName" ref="aec3bd1393887c8291a08feec58b38bdb" args="(self, nextName)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#aec3bd1393887c8291a08feec58b38bdb">transitionToStateWithName</a> (self, nextName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invoke transitionFevalable before exiting previous state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c59265d43bef53d776352ee97fb178e"></a><!-- doxytag: member="topsStateMachine::logStateSharedFeval" ref="a7c59265d43bef53d776352ee97fb178e" args="(self, state, shared)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtops_state_machine.html#a7c59265d43bef53d776352ee97fb178e">logStateSharedFeval</a> (self, state, shared)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an entry to <a class="el" href="classtops_data_log.html" title="One central place to log data on the fly.">topsDataLog</a> for an fevalable shared among states. <br/></td></tr>
</table>
<hr/><h2>Constructor</h2>
<a class="anchor" id="a114554a184adf7e5f3b48c93ca60a4dc"></a><!-- doxytag: member="topsStateMachine::topsStateMachine" ref="a114554a184adf7e5f3b48c93ca60a4dc" args="(varargin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">self <a class="el" href="classtops_state_machine.html">topsStateMachine</a> </td>
          <td>(</td>
          <td class="paramtype">varargin&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constuct with name optional. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>optional name for this object</td></tr>
  </table>
  </dd>
</dl>
<p>If <em>name</em> is provided, assigns <em>name</em> to this object. </p>

</div>
</div>
<hr/><h2>Methods</h2>
<a class="anchor" id="abf424157a1ca067a83cc8260bc34c17d"></a><!-- doxytag: member="topsStateMachine::gui" ref="abf424157a1ca067a83cc8260bc34c17d" args="(self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fig gui </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open a GUI to view object details. </p>
<p>Opens a new GUI with components suitable for viewing objects of this class. Returns a topsFigure object which contains the GUI. </p>

<p>Reimplemented from <a class="el" href="classtops_runnable.html#a72e51a8014869030f089a5fb34fdd24f">topsRunnable</a>.</p>

</div>
</div>
<a class="anchor" id="a5ae2f5eec8740c5c2c4ddc2d3eb78d18"></a><!-- doxytag: member="topsStateMachine::addMultipleStates" ref="a5ae2f5eec8740c5c2c4ddc2d3eb78d18" args="(self, statesInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">indexes addMultipleStates </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">statesInfo&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add multiple states to the state machine. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>statesInfo</em>&nbsp;</td><td>a cell array with information defining multiple states.</td></tr>
  </table>
  </dd>
</dl>
<p><em>statesInfo</em> should resemble a table, with a row for each new state a column for each state field.</p>
<p>The first row of <em>statesInfo</em> shoud contain field names that correspond to the fields of allStates. See <a class="el" href="classtops_state_machine.html#a0f5d6dba6767f2d089191e1925e04561" title="Add a new state to the state machine.">addState()</a> for field descriptions. Only the <b>name</b> field is mandatory. Fields may appear in any order.</p>
<p>Each additional row of <em>statesInfo</em> shoud contain values aligned with the field names in the first row. A new state will be added using each row of values. Default values will be used where fields are omitted. The <b>name</b> field is mandatory.</p>
<p>The values in the <b>name</b> column should be unique with respect to each other and any existing states. When names collide, new states will replace existing states.</p>
<p>Returns an array of indexes into allStates where the new states were appended or inserted. </p>

</div>
</div>
<a class="anchor" id="a0f5d6dba6767f2d089191e1925e04561"></a><!-- doxytag: member="topsStateMachine::addState" ref="a0f5d6dba6767f2d089191e1925e04561" args="(self, stateInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">index addState </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stateInfo&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a new state to the state machine. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stateInfo</em>&nbsp;</td><td>a struct with information defining a state.</td></tr>
  </table>
  </dd>
</dl>
<p><em>stateInfo</em> should have the same fields as allStates:</p>
<ul>
<li><b>name</b> unique name to identify the state</li>
<li><b>timeout</b> time that may elapse before transitioning to the <b>next</b> state, in units of clockFunction.</li>
<li><b>next</b> the <b>name</b> of the state to transition to once <b>timeout</b> has elapsed</li>
<li><b>entry</b> fevalable cell array invoked when entering the state</li>
<li><b>input</b> fevalable cell array invoked after entering the state, during each call to <a class="el" href="classtops_state_machine.html#ad39f1b8814f26d4d247d7da89dcd1173" title="Do a little flow control within the state list.">runBriefly()</a>. If the returned value is the <b>name</b> of a state, transitions to that state immediately.</li>
<li><b>exit</b> fevalable cell array invokes when exiting the state</li>
<li><b>classification</b> <a class="el" href="classtops_classification.html" title="Represents data as points in space, for classification.">topsClassification</a> object to query after entering the state, during each call to <a class="el" href="classtops_state_machine.html#ad39f1b8814f26d4d247d7da89dcd1173" title="Do a little flow control within the state list.">runBriefly()</a>. If the returned output is the <b>name</b> of a state, transitions to that state immediately.</li>
</ul>
<p>Each state must have a unique <b>name</b>. Any existing state with the same <b>name</b> will be replaced.</p>
<p>Other fields of <em>stateInfo</em> may be omitted, in which case default values will be used.</p>
<p>Fields of stateInfo may correspond to one of the names in sharedEntry or sharedExit. Values in these fields will be passed as state-specific arguments to the shared fevalable.</p>
<p>Returns the index into allStates where the new state was appended or inserted. </p>

</div>
</div>
<a class="anchor" id="a9e441d0cfe10bf3c787028c1cf3c5ad7"></a><!-- doxytag: member="topsStateMachine::editStateByName" ref="a9e441d0cfe10bf3c787028c1cf3c5ad7" args="(self, stateName, varargin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">index editStateByName </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stateName&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">varargin&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Edit fields of an existing state. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stateName</em>&nbsp;</td><td>string name of an existing state in allStates </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>varargin</em>&nbsp;</td><td>flexible number of field-value paris to edit the fields of the <em>stateName</em> state.</td></tr>
  </table>
  </dd>
</dl>
<p>Assigns the given values to the given fields of the existing state that has the name <em>stateName</em>. <em>varargin</em> represents a flexible number of traling arguments passed to <a class="el" href="classtops_state_machine.html#a9e441d0cfe10bf3c787028c1cf3c5ad7" title="Edit fields of an existing state.">editStateByName()</a>. The first argument in each pair should be one of the field names of the allStates struct, which include the default state fields described for addField() and the names of any sharedEntry or sharedExit fevalables. The second argument in each pair should be a value to assign to the named field.</p>
<p>Editing the <b>name</b> field of a state might cause the state machine to misbehave.</p>
<p>Returns the index into allStates of the <em>stateName</em> state. If <em>stateName</em> is not the name of an existing state, returns []. </p>

</div>
</div>
<a class="anchor" id="a699ede3741dfdf33ddee4f8b32973218"></a><!-- doxytag: member="topsStateMachine::addSharedFevalableWithName" ref="a699ede3741dfdf33ddee4f8b32973218" args="(self, fevalable, name, when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addSharedFevalableWithName </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fevalable&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtops_foundation.html#a73d044705182dce0379a1c211dca6ec6">name</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">when&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a function to be invoked during every state. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fevalable</em>&nbsp;</td><td>fevalable cell array to invoke for every state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>string name to give to <em>fcn</em> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>when</em>&nbsp;</td><td>the string 'entry' or 'exit' specifying when to invoke <em>fevalable</em>. For 'entry', <em>fevalable</em> will be invoked just after each state's own entry. For 'exit', <em>fevalable</em> will be invoked just before each state's own exit.</td></tr>
  </table>
  </dd>
</dl>
<p>Adds <em>fevalable</em> to the state machine's sharedEntry or sharedExit fevalables. These functions are called for every state, in addition to each state's own entry and exit.</p>
<p>Each state may specify additional arguments to pass to <em>fevalable</em>. These may be specified like other state data, using <em>name</em> as the state field. See <a class="el" href="classtops_state_machine.html#a0f5d6dba6767f2d089191e1925e04561" title="Add a new state to the state machine.">addState()</a> and <a class="el" href="classtops_state_machine.html#a5ae2f5eec8740c5c2c4ddc2d3eb78d18" title="Add multiple states to the state machine.">addMultipleStates()</a> for details on specifying state data.</p>
<p><em>name</em> must be unique with respect to other sharedEntry or sharedExit fevalables. If <em>name</em> matches an existing sharedEntry or sharedExit, <em>fevalable</em> will replace the existing function. </p>

</div>
</div>
<a class="anchor" id="aeb3b30c60946a22761128cbd397add94"></a><!-- doxytag: member="topsStateMachine::start" ref="aeb3b30c60946a22761128cbd397add94" args="(self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">start </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepare for state traversal. </p>
<p><a class="el" href="classtops_state_machine.html" title="A state machine for controlling flow through predefined states.">topsStateMachine</a> extends the <a class="el" href="classtops_state_machine.html#aeb3b30c60946a22761128cbd397add94" title="Prepare for state traversal.">start()</a> method of <a class="el" href="classtops_concurrent.html" title="Superclass for flow-control classes that may operate concurrently.">topsConcurrent</a> to record the startTime and enter the first state in allStates. </p>

<p>Reimplemented from <a class="el" href="classtops_runnable.html#aeb3b30c60946a22761128cbd397add94">topsRunnable</a>.</p>

</div>
</div>
<a class="anchor" id="a398a82043f7493f0ec73b0a57fa4c5b7"></a><!-- doxytag: member="topsStateMachine::finish" ref="a398a82043f7493f0ec73b0a57fa4c5b7" args="(self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">finish </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish doing state traversal. </p>
<p><a class="el" href="classtops_state_machine.html" title="A state machine for controlling flow through predefined states.">topsStateMachine</a> extends the <a class="el" href="classtops_state_machine.html#a398a82043f7493f0ec73b0a57fa4c5b7" title="Finish doing state traversal.">finish()</a> method of <a class="el" href="classtops_concurrent.html" title="Superclass for flow-control classes that may operate concurrently.">topsConcurrent</a> to record the finishState and finishTime. </p>

<p>Reimplemented from <a class="el" href="classtops_runnable.html#a398a82043f7493f0ec73b0a57fa4c5b7">topsRunnable</a>.</p>

</div>
</div>
<a class="anchor" id="ad39f1b8814f26d4d247d7da89dcd1173"></a><!-- doxytag: member="topsStateMachine::runBriefly" ref="ad39f1b8814f26d4d247d7da89dcd1173" args="(self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">runBriefly </td>
          <td>(</td>
          <td class="paramtype">self&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Do a little flow control within the state list. </p>
<p><a class="el" href="classtops_state_machine.html" title="A state machine for controlling flow through predefined states.">topsStateMachine</a> extends the <a class="el" href="classtops_state_machine.html#ad39f1b8814f26d4d247d7da89dcd1173" title="Do a little flow control within the state list.">runBriefly()</a> method of <a class="el" href="classtops_concurrent.html" title="Superclass for flow-control classes that may operate concurrently.">topsConcurrent</a> to do state traversal. It checks the <b>input</b> fevalable and <b>classification</b> for the current state. If <b>input</b> or <b>classification</b> returns a state name, transitions to that state immediately. If not, checks whether the current state's timeout has expired. If timeout has expired, transitions to the next state immediately. If there is no next state, traversal ends. </p>

<p>Reimplemented from <a class="el" href="classtops_concurrent.html#ad39f1b8814f26d4d247d7da89dcd1173">topsConcurrent</a>.</p>

</div>
</div>
<hr/><h2>Properties and Events</h2>
<a class="anchor" id="a7861e769bf7518302516cfabc3f611a6"></a><!-- doxytag: member="topsStateMachine::allStates" ref="a7861e769bf7518302516cfabc3f611a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Property <a class="el" href="classtops_state_machine.html#a7861e769bf7518302516cfabc3f611a6">allStates</a> = struct([])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>struct array of data for each state </p>
<p>Each element of allStates represents a single state. See <a class="el" href="classtops_state_machine.html#a0f5d6dba6767f2d089191e1925e04561" title="Add a new state to the state machine.">addState()</a> for details about the struct fields and state properties. </p>

</div>
</div>
<a class="anchor" id="a24701c49c20d912138a10311f57be1e2"></a><!-- doxytag: member="topsStateMachine::transitionFevalable" ref="a24701c49c20d912138a10311f57be1e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Property <a class="el" href="classtops_state_machine.html#a24701c49c20d912138a10311f57be1e2">transitionFevalable</a> = {}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>optional fevalable cell array to invoke during state transitions </p>
<p>The function should expect as the first argument a 1x2 struct array of information about the previous state and the next state, with elements in that order. Any other arguments in the cell array will be passed to the function starting at the second place. See <a class="el" href="classtops_state_machine.html#a0f5d6dba6767f2d089191e1925e04561" title="Add a new state to the state machine.">addState()</a> for details of the struct state information. </p>

</div>
</div>
<a class="anchor" id="a73e4a77c91b5a68656c28b05d0f94dd2"></a><!-- doxytag: member="topsStateMachine::finishState" ref="a73e4a77c91b5a68656c28b05d0f94dd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Property <a class="el" href="classtops_state_machine.html#a73e4a77c91b5a68656c28b05d0f94dd2">finishState</a> = struct([])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>struct of information about the last state encountered during traversal. </p>
<p>See <a class="el" href="classtops_state_machine.html#a0f5d6dba6767f2d089191e1925e04561" title="Add a new state to the state machine.">addState()</a> for details of the struct state information. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>topsStateMachine.m</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 13 16:51:44 2012 for Tower of Psych by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
